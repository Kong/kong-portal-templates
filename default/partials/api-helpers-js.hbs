<script type="text/javascript">

if (!window.helpers) {
  window.helpers = {}
}

let fileTypes = {
  PAGE: 'page',
  SPEC: 'spec',
  PARTIAL: 'partial'
}

window.helpers.getPortalFiles = () => {
  Promise.all([
      window._kong.api.get('/files?type=page', { withCredentials: true }),
      window._kong.api.get('/files?type=spec', { withCredentials: true })
    ]).then((resp) => {
      let [pagesResp, specsResp] = resp
      pages = pagesResp && pagesResp.data && pagesResp.data.data
      specs = specsResp && specsResp.data && specsResp.data.data
      let files = []
      files.concat(pages).concat(specs)
      return resolve(files)
    })
  })
}

</script>
